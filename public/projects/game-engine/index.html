






<!doctype html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="true"
><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#FFFFFF" />
  
  <title>3D Game Engine Development &middot; VS Codes</title>
    <meta name="title" content="3D Game Engine Development &middot; VS Codes" />
  
  
  
  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js"
    integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="
  ></script>
  
  
  
  
  
  
  
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.faf2b9934202095fda77e23d0d860d9b782fe856a063126b48a022c73f57b043.css"
    integrity="sha256-&#43;vK5k0ICCV/ad&#43;I9DYYNm3gv6FagYxJrSKAixz9XsEM="
  />
  
    
    
    
  
  
  
    
    
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.88bfa175ca118c7e4edeaed8e7f4367f8aad336d72649e105c3b8c3f638089e2.js"
      integrity="sha256-iL&#43;hdcoRjH5O3q7Y5/Q2f4qtM21yZJ4QXDuMP2OAieI="
      data-copy="Copy"
      data-copied="Copied"
    ></script>
  
  
  <meta
    name="description"
    content="
      Developing a custom game and its engine from scratch.
    "
  />
  
  
  
  <link rel="canonical" href="http://localhost:1313/projects/game-engine/" />
  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  
  <meta property="og:url" content="http://localhost:1313/projects/game-engine/">
  <meta property="og:site_name" content="VS Codes">
  <meta property="og:title" content="3D Game Engine Development">
  <meta property="og:description" content="Developing a custom game and its engine from scratch.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="projects">
    <meta property="article:published_time" content="2024-08-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-10-19T00:00:00+00:00">
    <meta property="article:tag" content="C&#43;&#43;">
    <meta property="article:tag" content="OpenGL">
    <meta property="article:tag" content="Game Development">
    <meta property="og:image" content="http://localhost:1313/projects/game-engine/feature.png">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/projects/game-engine/feature.png">
  <meta name="twitter:title" content="3D Game Engine Development">
  <meta name="twitter:description" content="Developing a custom game and its engine from scratch.">

  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Projects",
    "name": "3D Game Engine Development",
    "headline": "3D Game Engine Development",
    "description": "Developing a custom game and its engine from scratch.",
    "abstract": "Developing a custom game and its engine from scratch.",
    "inLanguage": "en",
    "url" : "http:\/\/localhost:1313\/projects\/game-engine\/",
    "author" : {
      "@type": "Person",
      "name": "Varendra Saith"
    },
    "copyrightYear": "2024",
    "dateCreated": "2024-08-21T00:00:00\u002b00:00",
    "datePublished": "2024-08-21T00:00:00\u002b00:00",
    
    "dateModified": "2024-10-19T00:00:00\u002b00:00",
    
    "keywords": ["C++","OpenGL","Game Development"],
    
    "mainEntityOfPage": "true",
    "wordCount": "1634"
  }
  </script>
    
    <script type="application/ld+json">
    {
   "@context": "https://schema.org",
   "@type": "BreadcrumbList",
   "itemListElement": [
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/",
       "name": "",
       "position": 1
     },
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/projects/",
       "name": "Projects",
       "position": 2
     },
     {
       "@type": "ListItem",
       "name": "3 D Game Engine Development",
       "position": 3
     }
   ]
 }
  </script>

  
  <meta name="author" content="Varendra Saith" />
  
    
      <link href="https://github.com/varendraaa" rel="me" />
    
      <link href="https://linkedin.com/in/varendrasaith" rel="me" />
    
  
  
  







  
  

  
  
</head>
<body
    class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"
  >
    <div id="the-top" class="absolute flex self-center">
      <a
        class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content"
        ><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span
        >Skip to main content</a
      >
    </div>
    
    
      <header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden">
  <nav class="flex items-start justify-between sm:items-center">
    
    <div class="flex flex-row items-center">
      
    <a href="/" class="mr-2">
      
      <img
        src="/images/code-dark.png"
        width="256"
        height="256"
        class="max-h-[10rem] max-w-[10rem] object-scale-down object-left
        hidden dark:flex"
        alt="VS Codes"
      />
        <img
          src="/images/code.png"
          width="256"
          height="256"
          class="max-h-[10rem] max-w-[10rem] object-scale-down object-left dark:hidden"
          alt="VS Codes"
        />
    </a>
  <a
    class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2"
    rel="me"
    href="/"
    >VS Codes</a
  >

    </div>
    
    
      <ul class="flex list-none flex-col text-end sm:flex-row">
        
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/about/"
                  title=""
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >About Me</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/projects/"
                  title=""
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Projects</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/cv/cv2024.pdf"
                  title=""
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >CV</span
                    >
                  </a
                >
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                
                
                  <button
                    id="search-button-1"
                    title="Search (/)"
                  >
                    
                      <span
                        class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"
                      ><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span
                        class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                        ></span
                      >
                    
                  </button>
                
              
            </li>
          
            
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                
                <button
                  id="appearance-switcher-1"
                  type="button"
                  aria-label="appearance switcher"
                >
                  <span
                    class="group-dark:hover:text-primary-400 inline transition-colors group-hover:text-primary-600 dark:hidden"
                    title="Switch to dark appearance"
                  >
                    <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span><span
                        class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                        ></span
                      >
                    
                  </span>
                  <span
                    class="group-dark:hover:text-primary-400 hidden transition-colors group-hover:text-primary-600 dark:inline"
                    title="Switch to light appearance"
                  >
                    
                      <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
                    
                    
                      <span
                        class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                        ></span
                      >
                    
                  </span>
                </button>
              
            </li>
          
          
        
      </ul>
    
  </nav>
</header>

    
    <div class="relative flex grow flex-col">
      <main id="main-content" class="grow">
        
  <article>
    <header class="max-w-prose">
      
      <h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        3D Game Engine Development
      </h1>
      
        <div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
          





  
  



  

  
  
    
  

  

  

  
    
  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="2024-08-21 00:00:00 &#43;0000 UTC">21 August 2024</time><span class="px-2 text-primary-500">&middot;</span><span title="Reading time">8 mins</span>
    

    
    
  </div>

  
  


        </div>
      
      
        <div class="prose">
          
          
          
          








  
    <picture
      class="mb-6 rounded-md"
      
    >
      
      
      
      
        <source
          
            srcset="/projects/game-engine/feature_hu6860151162775754500.webp 330w,/projects/game-engine/feature_hu12976557326469482969.webp 660w
            
              ,/projects/game-engine/feature_hu13680961582558987332.webp 1024w
            
            
              ,/projects/game-engine/feature_hu6286719950062983898.webp 1320w
            "
          
          sizes="100vw"
          type="image/webp"
        />
      
      <img
        width="1908"
        height="1098"
        class="mb-6 rounded-md"
        
        
        
          src="/projects/game-engine/feature_hu12143277419460595092.png"
          srcset="/projects/game-engine/feature_hu6358027381599318803.png 330w,/projects/game-engine/feature_hu12143277419460595092.png 660w
          
            ,/projects/game-engine/feature_hu3962071628365793472.png 1024w
          
          
            ,/projects/game-engine/feature_hu1588673037384182101.png 1320w
          "
          sizes="100vw"
        
      />
    </picture>
  


          
        </div>
      
    </header>
    <section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row">
      
        <div class="order-first px-0 lg:order-last lg:max-w-xs lg:ps-8">
          <div class="toc pe-5 lg:sticky lg:top-10 print:hidden">
            <details open class="-ms-5 mt-0 overflow-hidden rounded-lg ps-5">
  <summary
    class="block cursor-pointer bg-neutral-100 py-1 ps-5 text-lg font-semibold text-neutral-800 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden"
  >
    Table of Contents
  </summary>
  <div class="border-s border-dotted border-neutral-300 py-2 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#background">Background</a></li>
    <li><a href="#specifications">Specifications</a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#optimised-level-creation">Optimised Level Creation</a></li>
        <li><a href="#enemy-factory">Enemy Factory</a></li>
        <li><a href="#animation-via-texture-cycling">Animation via Texture Cycling</a></li>
        <li><a href="#billboarding-sprites">Billboarding Sprites</a></li>
        <li><a href="#dynamic-lighting-effects">Dynamic Lighting Effects</a></li>
        <li><a href="#breath-first-search-bfs-pathfinding">Breath First Search (BFS) Pathfinding</a></li>
        <li><a href="#collision-detection">Collision Detection</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>

          </div>
        </div>
      
      <div class="min-h-0 min-w-0 max-w-prose grow">
        <p><em>Developing a custom game and its engine from scratch.</em></p>
<p>This is a very summarised overview of my MSc Thesis Project, done at the University of Dundee. It focuses on the creation and development of a Doom-like 3D FPS game, and its underlying engine, completely from first principles. It utilises simple, open-source C++ libraries to support some features, but every other aspect was done manually by the game code.</p>
<p>Since my thesis was over 17 000 words, this project post is not meant to be a deep dive into how I solved or implemented some of the game features. If you&rsquo;re interested in reading it (it&rsquo;s a good read!), shoot me an email.</p>
<p><strong><a href="https://github.com/Varendraaa/Shadow" target="_blank" rel="noreferrer">Check out the project code here!</a></strong></p>
<h2 id="background" class="relative group">Background <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#background" aria-label="Anchor">#</a></span></h2><p>I had a couple projects that I was interested in doing for my thesis project:</p>
<ul>
<li>A Spacecraft Mission Visualiser program, for S.T.A.R Dundee&rsquo;s PANGU project.</li>
<li>A Computer Vision System for Soil Evaluation (the old geoscientist in me was screaming &ldquo;<strong>Put me in chief!</strong>&rdquo;)</li>
<li>Create a 3D Game, and its underlying engine code.</li>
</ul>
<p>I ultimately decided to go with the game engine development for the following reasons:</p>
<ol>
<li>It was something I&rsquo;d be excited to develop, and therefore avoid falling into the trap that is <em>lack of motivation.</em></li>
<li>It offered me the opportunity to learn about graphics programming, specifically about OpenGL.</li>
<li>It was a <strong>really cool idea.</strong> I mean, I&rsquo;m making a game that people could later play, and enjoy. <strong>EXTREMELY DOPE.</strong></li>
</ol>
<p>However, I severely underestimated the sheer amount of work required to get a good game going. My supervisor, Dr. Iain Martin, and I set out a goal of getting the core game done within 8-9 weeks, to allow enough time for revision, modification and other improvements. Since this was my first foray into learning both <strong>graphics programming</strong> and <strong>game development</strong>, <em>without the use of a commercial engine</em>, I ended up working maybe 12-15 hours a day, learning as I went along.</p>
<p>The first couple weeks was spent getting up to speed with understanding OpenGL and the graphics pipeline. Some fantastic resources I used were:</p>
<ul>
<li><a href="https://learnopengl.com" target="_blank" rel="noreferrer">LearnOpenGL</a></li>
<li><a href="https://www.opengl-tutorial.org/" target="_blank" rel="noreferrer">OpenGL-tutorial</a></li>
<li><a href="https://www.youtube.com/watch?v=45MIykWJ-C4" target="_blank" rel="noreferrer">FreeCodeCamp&rsquo;s OpenGL Tutorials by Victor Gordon</a></li>
</ul>
<h2 id="specifications" class="relative group">Specifications <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#specifications" aria-label="Anchor">#</a></span></h2><p>The game is a 3D Dungeon Crawler First Person Shooter, inspired by Doom.
It, and it&rsquo;s engine, which I titled &ldquo;Shadow&rdquo; (just a working title that ended up sticking), was entirely coded using <strong>C++ 17</strong> and <strong>GLSL (OpenGL Shading Language)</strong>. Several other C++ libraries were used for different purposes, as detailed below.</p>
<table>
  <thead>
      <tr>
          <th>Library</th>
          <th>Usage</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>GLAD</strong></td>
          <td>OpenGL library that manages functions and pointers for OpenGL, allowing for flexible cross-platform development.</td>
      </tr>
      <tr>
          <td><strong>GLFW</strong></td>
          <td>OpenGL library that manages windowing and input/output handling for the engine implementation.</td>
      </tr>
      <tr>
          <td><strong>GLM</strong></td>
          <td>OpenGL Mathematics library that provides classes and functions that operate with the OpenGL framework. Used to support matrix, vector and shader calculations.</td>
      </tr>
      <tr>
          <td><strong>ImGui</strong></td>
          <td>Lightweight C++ graphical user interface (GUI) library that operates within the 3D graphics pipeline. It outputs interfaces via vertex buffers, allowing for fast rendering implementations.</td>
      </tr>
      <tr>
          <td><strong>irrKlang</strong></td>
          <td>Cross platform sound library that manages sound playback throughout the game engine implementation.</td>
      </tr>
      <tr>
          <td><strong>stb</strong></td>
          <td>Lightweight, single file C++ library used to load image data, in this case textures, into our game implementation.</td>
      </tr>
      <tr>
          <td><strong>tmxlite</strong></td>
          <td>Lightweight C++ library that enables easy parsing of data from the .tmx files that were used to configure level data.</td>
      </tr>
  </tbody>
</table>
<p>Additionally, the <strong>Tiled Map Editor</strong> was used to create the .tmx files, which holds the layout data necessary for generating level terrain (walls, ceilings and floors), their corresponding textures, enemy spawns and item locations. It allows for easy modification and reconfiguration of the level design, and facilitates easy addition of new textures and enemy types.</p>
<p>





<figure>
    
    








  
    <picture
      class="mx-auto my-0 rounded-md"
      
    >
      
      
      
      
        <source
          
            srcset="/projects/game-engine/tiledMap_hu18264449436612009450.webp 330w,/projects/game-engine/tiledMap_hu7262026788021405459.webp 660w
            
              ,/projects/game-engine/tiledMap_hu17961604829411435231.webp 1024w
            
            
              ,/projects/game-engine/tiledMap_hu15357214775689833363.webp 1320w
            "
          
          sizes="100vw"
          type="image/webp"
        />
      
      <img
        width="1662"
        height="937"
        class="mx-auto my-0 rounded-md"
        alt="Image: Tiled Map Editor"
        loading="lazy" decoding="async"
        
          src="/projects/game-engine/tiledMap_hu12719588462333648497.png"
          srcset="/projects/game-engine/tiledMap_hu17152402822839074512.png 330w,/projects/game-engine/tiledMap_hu12719588462333648497.png 660w
          
            ,/projects/game-engine/tiledMap_hu3070406745103880507.png 1024w
          
          
            ,/projects/game-engine/tiledMap_hu10531044316352327847.png 1320w
          "
          sizes="100vw"
        
      />
    </picture>
  


</figure>
</p>
<h1 id="features" class="relative group">Features <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#features" aria-label="Anchor">#</a></span></h1><p>The following are some of the more complex features I integrated into the game system.</p>
<h3 id="optimised-level-creation" class="relative group">Optimised Level Creation <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#optimised-level-creation" aria-label="Anchor">#</a></span></h3><p>The game&rsquo;s levels were generated using the Tiled Map Editor as a tool to allow easy modification. Tiled stores the layout data in essentially what is a 2D integer array of x-z positions in different object layers. I used this, along with the humble cube, to generate the 3D levels.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">layer</span> <span class="n">id</span><span class="o">=</span><span class="s">&#34;1&#34;</span> <span class="n">name</span><span class="o">=</span><span class="s">&#34;Walls&#34;</span> <span class="n">width</span><span class="o">=</span><span class="s">&#34;40&#34;</span> <span class="n">height</span><span class="o">=</span><span class="s">&#34;30&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="o">&lt;</span><span class="n">data</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#34;csv&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">data</span><span class="o">&gt;</span>
</span></span></code></pre></div><p>Each occurrence of the <strong>number 1</strong> in the above 40 x 30 array indicates the presence of a cube, at different x-z locations, with a texture ID of <strong>1</strong>. Therefore, to generate walls, we could stack these cubes right next to each other, which eliminates the need to create and calculate the individual 3D vertices for each face orientation (left, right, forward, backward, up, down).</p>
<p>To address the removal of unneeded geometry, that would be invisible to the player, I created a system using <strong>OpenGL&rsquo;s vertex winding order</strong>. In OpenGL, triangle primitives have two faces, a front face and a back face. The face type is determined by the order of the three vertices that make up the triangle, and by default, the front face is determined if the winding order of the vertices are counterclockwise.</p>
<p>





<figure>
    
    








  
    <picture
      class="mx-auto my-0 rounded-md"
      
    >
      
      
      
      
        <source
          
            srcset="/projects/game-engine/openglWinding1_hu10943526700895640430.webp 330w,/projects/game-engine/openglWinding1_hu16549679828868645928.webp 660w
            
              ,/projects/game-engine/openglWinding1_hu8947706454586778226.webp 1024w
            
            
              
                ,/projects/game-engine/openglWinding1_hu13978377203448324613.webp 1186w
              
            "
          
          sizes="100vw"
          type="image/webp"
        />
      
      <img
        width="1186"
        height="832"
        class="mx-auto my-0 rounded-md"
        alt="Image: Winding Orders of OpenGL Triangle Primitives"
        loading="lazy" decoding="async"
        
          src="/projects/game-engine/openglWinding1_hu6742604224451411577.png"
          srcset="/projects/game-engine/openglWinding1_hu11922788258122266872.png 330w,/projects/game-engine/openglWinding1_hu6742604224451411577.png 660w
          
            ,/projects/game-engine/openglWinding1_hu5034997678220521740.png 1024w
          
          
            ,/projects/game-engine/openglWinding1.png 1186w
          "
          sizes="100vw"
        
      />
    </picture>
  

<figcaption class="text-center">OpenGL uses winding orders to define front and back faces of surfaces.</figcaption>
</figure>
</p>
<p>I then had an algorithm check which faces of the cube would be obstructed by neighbouring terrain, i.e. if a cube face was side by side to another cube face, then we didn&rsquo;t need to render either since we couldn&rsquo;t see them. If there was no obstruction, the algorithm adds the vertices of the unblocked faces, along with their corresponding texture IDs, were then added into a mesh before being passed to the vertex buffer.</p>
<p>





<figure>
    
    








  
    <picture
      class="mx-auto my-0 rounded-md"
      
    >
      
      
      
      
        <source
          
            
              srcset="/projects/game-engine/openglWinding2_hu11202187209046226378.webp"
            
          
          sizes="100vw"
          type="image/webp"
        />
      
      <img
        width="609"
        height="358"
        class="mx-auto my-0 rounded-md"
        alt="Image: Vertices being added to mesh"
        loading="lazy" decoding="async"
        
          src="/projects/game-engine/openglWinding2.png"
        
      />
    </picture>
  

<figcaption class="text-center">Calculating the vertices to be added to the terrain mesh.</figcaption>
</figure>
</p>
<p>This meant that the entire level could be created with a single draw call, massively improving runtime performance and efficiency.</p>
<h3 id="enemy-factory" class="relative group">Enemy Factory <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#enemy-factory" aria-label="Anchor">#</a></span></h3><p>Essentially a combination between two design patterns, the <strong>Factory Design Pattern</strong> and the <strong>Decorator Design Pattern</strong>.</p>
<p>A base enemy class was defined, along with its parameters and functionalities that all enemy instances will share.
A particular enemy type is then created using the Factory Design Pattern, which then decorates the base enemy class with specific logic based on the enemy type (eg, zombie logic vs ogre logic.)</p>
<p>





<figure>
    
    








  
    <picture
      class="mx-auto my-0 rounded-md"
      
    >
      
      
      
      
        <source
          
            srcset="/projects/game-engine/enemyFactory_hu4575105974377802573.webp 330w,/projects/game-engine/enemyFactory_hu783033497101002755.webp 660w
            
              ,/projects/game-engine/enemyFactory_hu2946930717336968904.webp 1024w
            
            
              
                ,/projects/game-engine/enemyFactory_hu6849704819015070053.webp 1027w
              
            "
          
          sizes="100vw"
          type="image/webp"
        />
      
      <img
        width="1027"
        height="652"
        class="mx-auto my-0 rounded-md"
        alt="Image: UML Diagram for the Enemy Factory setup"
        loading="lazy" decoding="async"
        
          src="/projects/game-engine/enemyFactory_hu4122427115121761667.png"
          srcset="/projects/game-engine/enemyFactory_hu10655894759056396530.png 330w,/projects/game-engine/enemyFactory_hu4122427115121761667.png 660w
          
            ,/projects/game-engine/enemyFactory_hu13236021334510138226.png 1024w
          
          
            ,/projects/game-engine/enemyFactory.png 1027w
          "
          sizes="100vw"
        
      />
    </picture>
  

<figcaption class="text-center">UML Diagram for the Enemy Factory setup.</figcaption>
</figure>
</p>
<h3 id="animation-via-texture-cycling" class="relative group">Animation via Texture Cycling <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#animation-via-texture-cycling" aria-label="Anchor">#</a></span></h3><p>Animation in modern games is usually handled via a process called rigging, where a 3D model of an entity is created and then manipulated via some movement to its skeletal frame. <strong>This was unfortunately not possible given the time constraints for development.</strong></p>
<p>Fear not! I still managed to animate enemies via a process I called <strong>texture cycling</strong>. Think about how old school cartoons or stop motion photography. Textures were rendered onto a simple quad, and then cycled through a preset sequence, at pre-defined intervals, to create animations.</p>
<p>





<figure>
    
    








  
    <picture
      class="mx-auto my-0 rounded-md"
      
    >
      
      
      
      
        <source
          
            srcset="/projects/game-engine/zombie_hu5441725866698374441.webp 330w,/projects/game-engine/zombie_hu305903053025265571.webp 660w
            
              ,/projects/game-engine/zombie_hu12879778377538724905.webp 1024w
            
            
              ,/projects/game-engine/zombie_hu13876306205202616181.webp 1320w
            "
          
          sizes="100vw"
          type="image/webp"
        />
      
      <img
        width="4566"
        height="1095"
        class="mx-auto my-0 rounded-md"
        alt="Image: GIF explaining Texture Cycling"
        loading="lazy" decoding="async"
        
          src="/projects/game-engine/zombie_hu4885284695466490218.png"
          srcset="/projects/game-engine/zombie_hu9396317888875556943.png 330w,/projects/game-engine/zombie_hu4885284695466490218.png 660w
          
            ,/projects/game-engine/zombie_hu10229168203171421312.png 1024w
          
          
            ,/projects/game-engine/zombie_hu13723770239599481450.png 1320w
          "
          sizes="100vw"
        
      />
    </picture>
  

<figcaption class="text-center">Spritesheet of an animated zombie attack.</figcaption>
</figure>
</p>
<p>





<figure>
    
    








  
    <picture
      class="mx-auto my-0 rounded-md"
      
    >
      
      
      
      
      <img
        width="256"
        height="256"
        class="mx-auto my-0 rounded-md"
        alt="Image: GIF explaining Texture Cycling"
        loading="lazy" decoding="async"
        
          src="/projects/game-engine/zombie.gif"
        
      />
    </picture>
  

<figcaption class="text-center">The attack, animated in practice.</figcaption>
</figure>
</p>
<p>The above example was created using Blender, with a camera set directly in front of the model. At predefined intervals, the model&rsquo;s animation was played, and Blender captured images of the model at that point.</p>
<h3 id="billboarding-sprites" class="relative group">Billboarding Sprites <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#billboarding-sprites" aria-label="Anchor">#</a></span></h3><p>Since the enemies and other objects were rendered onto 2D quads, I utilised billboarding to give what were 2D objects the iillusion that they exist in 3D space.</p>
<p>This was achieved by rotating the object&rsquo;s quad to always face the inverse direction of the player&rsquo;s point of view (the camera&rsquo;s front vector.)
The quad&rsquo;s normal vectors were also dynamically recalculated to always ensure proper lighting calculations and effects.</p>
<p>





<figure>
    
    








  
    <picture
      class="mx-auto my-0 rounded-md"
      
    >
      
      
      
      
      <img
        width="594"
        height="538"
        class="mx-auto my-0 rounded-md"
        alt="Image: GIF explaining sprite billboarding"
        loading="lazy" decoding="async"
        
          src="/projects/game-engine/billboarding1.gif"
        
      />
    </picture>
  


</figure>
</p>
<h3 id="dynamic-lighting-effects" class="relative group">Dynamic Lighting Effects <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#dynamic-lighting-effects" aria-label="Anchor">#</a></span></h3><p>Usually, techniques such as normal mapping, shadow mapping and ambient occlusion are commonly utilised to improve graphical fidelity.</p>
<p>Due to time constraints, I chose to:</p>
<ul>
<li>reduce ambient lighting to give the game a dark, &ldquo;spooky&rdquo; feel.</li>
<li>Used the Phong lighting model to give the player a spotlight that illuminates a small section of the screen. This serves as the main exploration tool.</li>
<li>Set the lighting matrices to dynamically update based on the player&rsquo;s location and direction vector. Therefore the player is able to &ldquo;cast a light&rdquo; on all surfaces, regardless of their position and direction.</li>
<li>The spotlight was also attenuated (has a distance falloff) using a quadratic model.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="line"><span class="cl"><span class="n">shaderprogram</span><span class="p">-&gt;</span><span class="n">SetVec3</span><span class="p">(</span><span class="s">&#34;spotlight.position&#34;</span><span class="p">,</span> <span class="n">m_player</span><span class="p">-&gt;</span><span class="n">GetPosition</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="n">shaderprogram</span><span class="p">-&gt;</span><span class="n">SetVec3</span><span class="p">(</span><span class="s">&#34;spotlight.direction&#34;</span><span class="p">,</span> <span class="n">m_player</span><span class="p">-&gt;</span><span class="n">GetFront</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="n">shaderprogram</span><span class="p">-&gt;</span><span class="n">SetVec3</span><span class="p">(</span><span class="s">&#34;spotlight.ambient&#34;</span><span class="p">,</span> <span class="n">glm</span><span class="p">::</span><span class="n">vec3</span><span class="p">(</span><span class="m">0.1f</span><span class="p">,</span> <span class="m">0.1f</span><span class="p">,</span> <span class="m">0.1f</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="n">shaderprogram</span><span class="p">-&gt;</span><span class="n">SetVec3</span><span class="p">(</span><span class="s">&#34;spotlight.diffuse&#34;</span><span class="p">,</span> <span class="n">glm</span><span class="p">::</span><span class="n">vec3</span><span class="p">(</span><span class="m">0.8f</span><span class="p">,</span> <span class="m">0.8f</span><span class="p">,</span> <span class="m">0.8f</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="n">shaderprogram</span><span class="p">-&gt;</span><span class="n">SetFloat</span><span class="p">(</span><span class="s">&#34;spotlight.constant&#34;</span><span class="p">,</span> <span class="m">1.0f</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">shaderprogram</span><span class="p">-&gt;</span><span class="n">SetFloat</span><span class="p">(</span><span class="s">&#34;spotlight.linear&#34;</span><span class="p">,</span> <span class="m">0.09f</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">shaderprogram</span><span class="p">-&gt;</span><span class="n">SetFloat</span><span class="p">(</span><span class="s">&#34;spotlight.quadratic&#34;</span><span class="p">,</span> <span class="m">0.032f</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">shaderprogram</span><span class="p">-&gt;</span><span class="n">SetFloat</span><span class="p">(</span><span class="s">&#34;spotlight.cutOff&#34;</span><span class="p">,</span> <span class="n">glm</span><span class="p">::</span><span class="n">cos</span><span class="p">(</span><span class="n">glm</span><span class="p">::</span><span class="n">radians</span><span class="p">(</span><span class="m">12.5f</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl"><span class="n">shaderprogram</span><span class="p">-&gt;</span><span class="n">SetFloat</span><span class="p">(</span><span class="s">&#34;spotlight.outerCutOff&#34;</span><span class="p">,</span> <span class="n">glm</span><span class="p">::</span><span class="n">cos</span><span class="p">(</span><span class="n">glm</span><span class="p">::</span><span class="n">radians</span><span class="p">(</span><span class="m">18.0f</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">float</span> <span class="n">distance</span> <span class="p">=</span> <span class="n">length</span><span class="p">(</span><span class="n">spotlight</span><span class="p">.</span><span class="n">position</span> <span class="p">-</span> <span class="n">FragPos</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">float</span> <span class="n">attenuation</span> <span class="p">=</span> <span class="m">1.0</span> <span class="p">/</span> <span class="p">(</span><span class="n">spotlight</span><span class="p">.</span><span class="n">constant</span> <span class="p">+</span> <span class="n">spotlight</span><span class="p">.</span><span class="n">linear</span> <span class="p">*</span> <span class="n">distance</span> <span class="p">+</span> <span class="n">spotlight</span><span class="p">.</span><span class="n">quadratic</span> <span class="p">*</span> <span class="p">(</span><span class="n">distance</span> <span class="p">*</span> <span class="n">distance</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">float</span> <span class="n">theta</span> <span class="p">=</span> <span class="n">dot</span><span class="p">(</span><span class="n">lightDir</span><span class="p">,</span> <span class="n">normalize</span><span class="p">(-</span><span class="n">spotlight</span><span class="p">.</span><span class="n">direction</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="kt">float</span> <span class="n">epsilon</span> <span class="p">=</span> <span class="n">spotlight</span><span class="p">.</span><span class="n">cutOff</span> <span class="p">-</span> <span class="n">spotlight</span><span class="p">.</span><span class="n">outerCutOff</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">float</span> <span class="n">intensity</span> <span class="p">=</span> <span class="n">clamp</span><span class="p">((</span><span class="n">theta</span> <span class="p">-</span> <span class="n">spotlight</span><span class="p">.</span><span class="n">outerCutOff</span><span class="p">)</span> <span class="p">/</span> <span class="n">epsilon</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="m">1.0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">vec3</span> <span class="n">ambient</span> <span class="p">=</span> <span class="n">spotlight</span><span class="p">.</span><span class="n">ambient</span> <span class="p">*</span> <span class="n">spotlightIntensity</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">vec3</span> <span class="n">diffuse</span> <span class="p">=</span> <span class="n">max</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">norm</span><span class="p">,</span> <span class="n">lightDir</span><span class="p">),</span> <span class="m">0.0</span><span class="p">)</span> <span class="p">*</span> <span class="n">spotlight</span><span class="p">.</span><span class="n">diffuse</span> <span class="p">*</span>    <span class="n">spotlightIntensity</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">vec3</span> <span class="n">specular</span> <span class="p">=</span> <span class="n">pow</span><span class="p">(</span><span class="n">max</span><span class="p">(</span><span class="n">dot</span><span class="p">(</span><span class="n">viewDir</span><span class="p">,</span> <span class="n">reflectDir</span><span class="p">),</span> <span class="m">0.0</span><span class="p">),</span> <span class="m">32</span><span class="p">)</span> <span class="p">*</span> <span class="n">spotlight</span><span class="p">.</span><span class="n">specular</span> <span class="p">*</span> <span class="n">spotlightIntensity</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">vec3</span> <span class="n">result</span> <span class="p">=</span> <span class="p">(</span><span class="n">ambient</span> <span class="p">+</span> <span class="p">(</span><span class="n">diffuse</span> <span class="p">+</span> <span class="n">specular</span><span class="p">)</span> <span class="p">*</span> <span class="n">attenuation</span><span class="p">)</span> <span class="p">*</span> <span class="n">texture</span><span class="p">(</span><span class="n">texture1</span><span class="p">,</span> <span class="n">TexCoords</span><span class="p">).</span><span class="n">rgb</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">FragColor</span> <span class="p">=</span> <span class="n">vec4</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">texture</span><span class="p">(</span><span class="n">texture1</span><span class="p">,</span> <span class="n">TexCoords</span><span class="p">).</span><span class="n">a</span><span class="p">);</span>
</span></span></code></pre></div><p>





<figure>
    
    








  
    <picture
      class="mx-auto my-0 rounded-md"
      
    >
      
      
      
      
        <source
          
            srcset="/projects/game-engine/lighting1_hu13386436488070437585.webp 330w,/projects/game-engine/lighting1_hu742399632323256866.webp 660w
            
              ,/projects/game-engine/lighting1_hu505733313662686031.webp 1024w
            
            
              ,/projects/game-engine/lighting1_hu5895511759585293092.webp 1320w
            "
          
          sizes="100vw"
          type="image/webp"
        />
      
      <img
        width="1437"
        height="1001"
        class="mx-auto my-0 rounded-md"
        alt="Image: Dark Lighting"
        loading="lazy" decoding="async"
        
          src="/projects/game-engine/lighting1_hu681510657890414671.png"
          srcset="/projects/game-engine/lighting1_hu4856070150627185210.png 330w,/projects/game-engine/lighting1_hu681510657890414671.png 660w
          
            ,/projects/game-engine/lighting1_hu232185055533932252.png 1024w
          
          
            ,/projects/game-engine/lighting1_hu2172701272387366324.png 1320w
          "
          sizes="100vw"
        
      />
    </picture>
  


</figure>
</p>
<h3 id="breath-first-search-bfs-pathfinding" class="relative group">Breath First Search (BFS) Pathfinding <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#breath-first-search-bfs-pathfinding" aria-label="Anchor">#</a></span></h3><p>In order to let the enemies chase after our player character, some type of pathfinding algorithm was needed.</p>
<p>I chose to utilise a BFS graph traversal algorithm, which iterates over all possibilities between the root node (enemy&rsquo;s current location) and the goal node (player&rsquo;s current location) in order to find the shortest path to the player.
While not as efficient in time complexity (it has a linear time efficiency of O(V+E)), it was simple to implement and was more memory efficient when compared to some other algorithms.</p>
<h3 id="collision-detection" class="relative group">Collision Detection <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#collision-detection" aria-label="Anchor">#</a></span></h3><p>Collision in games is often handled via Axis Aligned Boundary Box (AABB) collision, due to its calculation efficiency.
I defined a bounding box for the player character, and created a system that checks if that box contacts any of the level&rsquo;s terrain meshes.</p>
<p>If collision is detected, player movement past the wall’s axis of orientation is stopped, but movement along it is allowed. This ensured two mechanics that significantly improved the fluidity of movement during gameplay:</p>
<ul>
<li>The player contacts the wall but does not get stuck onto it.</li>
<li>The player can slide along the wall, meaning that player movement does not suddenly come to a dead stop.</li>
</ul>

      </div>
    </section>
    <footer class="max-w-prose pt-8 print:hidden">
      
  <div class="flex">
    
    
    
      
      
        
        








  
    <picture
      class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"
      
    >
      
      
      
      
      <img
        width="4476"
        height="4476"
        class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"
        alt="Varendra Saith"
        loading="lazy" decoding="async"
        
          src="/images/avatar_hu2865140588848490602.png"
          srcset="/images/avatar_hu11894299080522045428.png 330w,/images/avatar_hu2865140588848490602.png 660w
          
            ,/images/avatar_hu5138205049100348085.png 1024w
          
          
            ,/images/avatar_hu15721286383796252114.png 1320w
          "
          sizes="100vw"
        
      />
    </picture>
  


      
    
    <div class="place-self-center">
      
        <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
          Author
        </div>
        <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
          Varendra Saith
        </div>
      
      
        <div class="text-sm text-neutral-700 dark:text-neutral-400">I&rsquo;m a Software Developer, focusing on creating fun projects and learn along the way. Ex-Geophysicist with 5 years in the energy industry.</div>
      
      <div class="text-2xl sm:text-lg">
  <div class="flex flex-wrap text-neutral-400 dark:text-neutral-500">
    
      
        <a
          class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
          style="will-change:transform;"
          href="https://github.com/varendraaa"
          target="_blank"
          aria-label="Github"
          rel="me noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></a
        >
      
    
      
        <a
          class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
          style="will-change:transform;"
          href="https://linkedin.com/in/varendrasaith"
          target="_blank"
          aria-label="Linkedin"
          rel="me noopener noreferrer"
          ><span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a
        >
      
    
  </div>

</div>
    </div>
  </div>


      

      
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="group flex" href="/projects/megaman-like/">
              <span
                class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
                ><span class="ltr:inline rtl:hidden">&larr;</span
                ><span class="ltr:hidden rtl:inline">&rarr;</span></span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Reimagining Megaman Mechanics for a modern game</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2024-08-21 00:00:00 &#43;0000 UTC">21 August 2024</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
            <a class="group flex text-right" href="/projects/aviator-threejs/">
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Creating a Game using ThreeJS</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2024-12-30 00:00:00 &#43;0000 UTC">30 December 2024</time>
                  
                </span>
              </span>
              <span
                class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[-2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
                ><span class="ltr:inline rtl:hidden">&rarr;</span
                ><span class="ltr:hidden rtl:inline">&larr;</span></span
              >
            </a>
          
        </span>
      </div>
    </div>
  


      
    </footer>
  </article>

      </main>
      
        <div
          class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12"
          id="to-top"
          hidden="true"
        >
          <a
            href="#the-top"
            class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
            aria-label="Scroll to top"
            title="Scroll to top"
          >
            &uarr;
          </a>
        </div>
      <footer class="py-10 print:hidden">
  
  
  <div class="flex items-center justify-between">
    <div>
      
      
        <p class="text-sm text-neutral-500 dark:text-neutral-400">
            &copy;
            2025
            Varendra Saith
        </p>
      
      
      
        <p class="text-xs text-neutral-500 dark:text-neutral-400">
          
          
          Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
            href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href="https://github.com/jpanther/congo" target="_blank" rel="noopener noreferrer">Congo</a>
        </p>
      
    </div>
    <div class="flex flex-row items-center">
      
      
      
      
    </div>
  </div>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="http://localhost:1313/"
>
  <div
    id="search-modal"
    class="top-20 mx-auto flex min-h-0 w-full max-w-3xl flex-col rounded-md border border-neutral-200 bg-neutral shadow-lg dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex flex-none items-center justify-between px-2">
      <form class="flex min-w-0 flex-auto items-center">
        <div class="flex h-8 w-8 items-center justify-center text-neutral-400">
          <span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="mx-1 flex h-12 flex-auto appearance-none bg-transparent focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex h-8 w-8 items-center justify-center text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        <span class="icon relative inline-block px-1 align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto overflow-auto px-2">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
</html>
